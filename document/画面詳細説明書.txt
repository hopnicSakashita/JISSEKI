====================================================================
          生産実績管理システム（JISSEKI）画面詳細説明書
====================================================================
作成日: 2025年6月（最終更新: 2025年6月）

■ 1. 認証・セキュリティ画面
────────────────────────────────────────────────────────────────

【1.1 ログイン画面】(/login)
┌────────────────────────────────────────────────────────────────┐
│ 機能概要 : システムへのユーザー認証                             │
│ 画面目的 : セキュアなシステムアクセス制御                       │
│ 入力項目 : ・ユーザーID（必須）                                 │
│          : ・パスワード（必須）                                 │
│ 処理内容 : ・認証情報の検証                                     │
│          : ・セッション開始                                     │
│          : ・最終ログイン時刻更新                               │
│ 遷移先   : 成功時→実績CSV取込画面                               │
│          : 失敗時→エラーメッセージ表示                         │
└────────────────────────────────────────────────────────────────┘

【1.2 ログアウト】(/logout)
┌────────────────────────────────────────────────────────────────┐
│ 機能概要 : システムからの安全な退出                             │
│ 画面目的 : セッション終了とセキュリティ確保                     │
│ 処理内容 : ・セッション情報削除                                 │
│          : ・ログイン画面へリダイレクト                         │
└────────────────────────────────────────────────────────────────┘

■ 2. CSVデータ取込画面
────────────────────────────────────────────────────────────────

【2.1 実績CSV取込】(/upload)
┌────────────────────────────────────────────────────────────────┐
│ 機能概要 : SpeedyNeoから出力した生産実績CSVファイルの取込       │
│ 画面目的 : 生産実績データの一括登録                             │
│ 操作手順 : 1. SpeedyNeo→「工程」→「実績一覧」                  │
│          : 2. R1注入日で過去2週間程度を範囲指定                 │
│          : 3. 「抽出」→「CSV」でファイル出力                    │
│          : 4. 本画面でCSVファイル選択→アップロード              │
│ 処理内容 : ・Shift-JIS形式CSVファイル読込                       │
│          : ・PRD_RECORDテーブルへの登録                         │
│          : ・重複データチェック                                 │
│          : ・一時ファイル作成・削除                             │
│ 対応形式 : CSV（カンマ区切り、Shift-JIS）                       │
└────────────────────────────────────────────────────────────────┘

【2.2 注入日・検査日CSV取込】(/upload2)
┌────────────────────────────────────────────────────────────────┐
│ 機能概要 : 注入日・検査日データのCSVファイル取込                │
│ 画面目的 : 注入日・検査日情報の更新                             │
│ 処理内容 : ・PrdRecord.import_from_csv2()によるインポート       │
│          : ・Shift-JIS形式対応                                  │
│          : ・既存データとの結合・更新                           │
└────────────────────────────────────────────────────────────────┘

【2.3 バーコードCSV取込】(/upload3)
┌────────────────────────────────────────────────────────────────┐
│ 機能概要 : バーコードデータのCSVファイル取込                    │
│ 画面目的 : バーコード情報の登録・更新                           │
│ 処理内容 : ・BcdDat.import_from_csv()によるインポート           │
│          : ・バーコード情報の一括登録                           │
└────────────────────────────────────────────────────────────────┘

【2.4 指示データCSV取込】(/upload4)
┌────────────────────────────────────────────────────────────────┐
│ 機能概要 : 指示データのCSVファイル取込                          │
│ 画面目的 : 作業指示情報の登録                                   │
│ 処理内容 : ・SjiDatModel.import_from_csv()によるインポート      │
│          : ・指示データの一括登録                               │
└────────────────────────────────────────────────────────────────┘

【2.5 膜カットデータCSV取込】(/upload5)
┌────────────────────────────────────────────────────────────────┐
│ 機能概要 : 膜カットデータのCSVファイル取込                      │
│ 画面目的 : 膜カット作業実績の登録                               │
│ 処理内容 : ・FmcDat.import_from_csv()によるインポート           │
│          : ・膜カット実績データの登録                           │
└────────────────────────────────────────────────────────────────┘

【2.6 膜加工データCSV取込】(/upload6)
┌────────────────────────────────────────────────────────────────┐
│ 機能概要 : 膜加工データのCSVファイル取込                        │
│ 画面目的 : 膜加工作業実績の登録                                 │
│ 処理内容 : ・FmpDat.import_from_csv()によるインポート           │
│          : ・膜加工実績データの登録                             │
└────────────────────────────────────────────────────────────────┘

【2.7 スピンコートデータCSV取込】(/import_spc)
┌────────────────────────────────────────────────────────────────┐
│ 機能概要 : スピンコート工程データのCSVファイル取込              │
│ 画面目的 : スピンコート作業実績の登録                           │
│ 処理内容 : ・SpcDat.import_from_csv()によるインポート           │
│          : ・SPC_DATテーブルへの登録                            │
│ 対象データ: ・コート日、種類、機番、処理枚数、不良項目別数量    │
└────────────────────────────────────────────────────────────────┘

【2.8 ハードコートデータCSV取込】(/import_hdc)
┌────────────────────────────────────────────────────────────────┐
│ 機能概要 : ハードコート工程データのCSVファイル取込              │
│ 画面目的 : ハードコート作業実績の登録                           │
│ 処理内容 : ・HdcDat.import_from_csv()によるインポート           │
│          : ・HDC_DATテーブルへの登録                            │
│ 対象データ: ・コート日、種類、色、処理数量、不良項目別数量      │
└────────────────────────────────────────────────────────────────┘

■ 3. 実績・進捗確認画面
────────────────────────────────────────────────────────────────

【3.1 R1・R2実績】(/results)
┌────────────────────────────────────────────────────────────────┐
│ 機能概要 : R1・R2注入実績の検索・表示                           │
│ 画面目的 : 生産実績データの詳細照会                             │
│ 検索条件 : ・R1注入日（開始～終了）                             │
│          : ・R2注入日（開始～終了）                             │
│          : ・R1注入者、R2注入者                                 │
│ 表示項目 : ・R1注入日、ロット番号、製品名                       │
│          : ・モノマー種、R1/R2重合槽、モノマーバッチ            │
│          : ・注入者、注入数、各種不良数量                       │
│          : ・巻きミス、R1泡、カール、膜浮き等                   │
│ 操作機能 : ・日付指定ボタン（今日、昨日、今月、前月）           │
│          : ・スクロール表示（高さ600px）                        │
└────────────────────────────────────────────────────────────────┘

【3.2 検査実績】(/results2)
┌────────────────────────────────────────────────────────────────┐
│ 機能概要 : 検査実績データの検索・表示                           │
│ 画面目的 : 品質検査結果の確認                                   │
│ 検索対象 : ・検査日時、検査工程                                 │
│          : ・検査結果、判定データ                               │
│ 表示内容 : ・検査結果詳細                                       │
│          : ・不良項目内訳                                       │
└────────────────────────────────────────────────────────────────┘

【3.3 進捗状況】(/progress)
┌────────────────────────────────────────────────────────────────┐
│ 機能概要 : 生産進捗の総合管理・確認                             │
│ 画面目的 : 工程別進捗状況の把握                                 │
│ 検索条件 : ・R1注入日（開始～終了）                             │
│          : ・モノマー種別                                       │
│ 表示内容 : ・モノマー種別ごとの進捗                             │
│          : ・R1注入、R2注入、離型、アニール進捗率               │
│          : ・一次検査、二次検査、三次検査の進捗                 │
│ 表示形式 : ・テーブル形式で完了/全体数表示                      │
│          : ・完了率による色分け表示                             │
└────────────────────────────────────────────────────────────────┘

【3.4 未検査品一覧】(/inspection_search)
┌────────────────────────────────────────────────────────────────┐
│ 機能概要 : 未検査品の一覧表示                                   │
│ 画面目的 : 検査待ち品の管理                                     │
│ 検索対象 : ・検査待ち状態の製品                                 │
│          : ・検査予定日時                                       │
└────────────────────────────────────────────────────────────────┘

【3.5 アニール未完了一覧】(/anneal_incomplete)
┌────────────────────────────────────────────────────────────────┐
│ 機能概要 : アニール工程の未完了案件一覧                         │
│ 画面目的 : アニール工程の進捗管理                               │
│ 特徴     : ・熱処理工程の専用管理                               │
│          : ・処理条件との連携                                   │
└────────────────────────────────────────────────────────────────┘

【3.6 膜カットデータ一覧】(/fmc_dat_list)
┌────────────────────────────────────────────────────────────────┐
│ 機能概要 : 膜カットデータの一覧表示・管理                       │
│ 画面目的 : 膜カットデータの効率的な管理                         │
│ 表示項目 : ・基本情報、数量情報                                 │
│          : ・処理日、品質情報                                   │
│ 機能     : ・検索、並び替え                                     │
│          : ・編集、削除リンク                                   │
│          : ・新規作成ボタン                                     │
└────────────────────────────────────────────────────────────────┘

■ 4. 分析画面
────────────────────────────────────────────────────────────────

【4.1 不良率分析】(/defect_analysis)
┌────────────────────────────────────────────────────────────────┐
│ 機能概要 : 総合的な不良率分析とトレンド表示                     │
│ 画面目的 : 品質改善活動の支援                                   │
│ フィルター: ・R1注入日（開始～終了）                            │
│          : ・R2注入日（開始～終了）                             │
│          : ・検査日（開始～終了）                               │
│          : ・製品ID、モノマー種、製品名、膜カラー               │
│ 分析表示 : ・グラフ表示（棒グラフ、レーダーチャート選択可）     │
│          : ・詳細データテーブル                                 │
│          : ・不良項目別不良率・数量                             │
│ 機能     : ・日付指定ボタン（今日、昨日、今月、前月）           │
│          : ・チャートタイプ切り替え                             │
│          : ・フィルターリセット機能                             │
└────────────────────────────────────────────────────────────────┘

【4.2 モノマー種別毎の良品率分析】(/mono_syu_defect)
┌────────────────────────────────────────────────────────────────┐
│ 機能概要 : モノマー種別の良品率分析                             │
│ 画面目的 : 原材料起因の品質問題特定                             │
│ フィルター: ・R2注入日（開始～終了）                            │
│ 分析内容 : ・モノマー種別良品率                                 │
│          : ・目標値との比較                                     │
│          : ・期間合計表示                                       │
│ 表示形式 : ・期間合計テーブル                                   │
│          : ・モノマー種別詳細データテーブル                     │
│          : ・グラフ表示（Chart.js）                             │
│ 特徴     : ・目標値超過時の赤字強調表示                         │
│          : ・日別データの詳細表示                               │
└────────────────────────────────────────────────────────────────┘

【4.3 モノマー種別不良詳細】(/mono_syu_defect_detail)
┌────────────────────────────────────────────────────────────────┐
│ 機能概要 : モノマー種別不良の詳細分析                           │
│ 画面目的 : 根本原因分析の支援                                   │
│ 詳細情報 : ・ロット別不良履歴                                   │
│          : ・工程別影響度                                       │
│          : ・時系列変化                                         │
│ 機能     : ・ドリルダウン分析                                   │
│          : ・相関分析表示                                       │
└────────────────────────────────────────────────────────────────┘

【4.4 生産実績不良データ（月別）】(/prd_record_monthly_analysis)
┌────────────────────────────────────────────────────────────────┐
│ 機能概要 : 生産実績（PRD_RECORD）の月別不良データ分析           │
│ 画面目的 : 生産実績の月次傾向把握と品質改善指導                 │
│ 検索条件 : ・開始日、終了日（R2注入日基準）                     │
│          : ・モノマー種（A～E）                                 │
│          : ・製品ID                                             │
│ 分析対象 : ・主要不良項目24種                                   │
│          : （巻きミス、モレ、膜ひっぱり、ワレ、チギレ、         │
│          :  ハガレ、カケ、重合ワレ、型キズ、レンズキズ、        │
│          :  R1泡、R2泡、ブツ、溶出、モヤ、カール、             │
│          :  膜浮き、R1不良、膜不良、イブツ、カットくず、       │
│          :  センイ、モールド汚れ、膜汚れ）                     │
│ 表示形式 : ・月別不良項目推移グラフ（積み上げ棒グラフ）         │
│          : ・期間合計不良率グラフ（降順）                       │
│          : ・月別不良詳細データテーブル                         │
│          : ・期間合計データテーブル                             │
│ 計算仕様 : ・不良率 = (不良数 ÷ 注入数) × 100                  │
│          : ・月別集計はR2注入日（PRR_R2_DATE）基準             │
│          : ・分母は注入数（PRR_INJECT_QTY）                    │
│ 特徴     : ・3%未満の値はグラフ上でラベル非表示                 │
│          : ・不良率0.01%未満は"0.00%"表示                      │
│          : ・期間合計は降順ソートで表示                         │
│ ボタン機能: ・今年、昨年、今月、前月の自動期間設定             │
│          : ・フィルターリセット機能                             │
│ API      : /api/prd_record_monthly_data                        │
│ 使用技術 : ・Chart.js（グラフ描画）                            │
│          : ・ChartDataLabels（ラベル表示）                     │
│          : ・SQLAlchemyのDATE_FORMAT関数で月別集計            │
│ 関連テーブル: PRD_RECORD（生産実績テーブル）                    │
│ 特記事項 : ・R2注入日とR2注入数がNULLでないデータのみ対象       │
│          : ・不良項目は主要24項目に絞込み                       │
│          : ・チギレ、ハガレ等は複数カラムを合算                 │
└────────────────────────────────────────────────────────────────┘

【4.5 不良率上位項目】(/high_defect_rate)
┌────────────────────────────────────────────────────────────────┐
│ 機能概要 : 不良率の高い項目の特定と分析                         │
│ 画面目的 : 重点改善対象の明確化                                 │
│ 抽出条件 : ・不良率閾値設定                                     │
│          : ・期間指定                                           │
│ 表示内容 : ・不良率上位ランキング                               │
│          : ・改善優先度                                         │
│ アラート : ・異常値検出通知                                     │
└────────────────────────────────────────────────────────────────┘

【4.6 不良項目別分析】(/defect_by_item)
┌────────────────────────────────────────────────────────────────┐
│ 機能概要 : 不良項目別の発生分析                                 │
│ 画面目的 : 不良項目の傾向把握                                   │
│ 分析軸   : ・不良項目別発生率                                   │
│          : ・不良項目分布                                       │
│ 比較機能 : ・項目間比較                                         │
│          : ・期間比較                                           │
└────────────────────────────────────────────────────────────────┘

【4.7 モノマー種別達成率】(/mono_syu_achievement)
┌────────────────────────────────────────────────────────────────┐
│ 機能概要 : モノマー種別の生産達成率管理                         │
│ 画面目的 : 生産計画の達成状況把握                               │
│ 表示内容 : ・計画対実績比較                                     │
│          : ・達成率算出                                         │
│ 機能     : ・目標設定、予実管理                                 │
└────────────────────────────────────────────────────────────────┘

【4.8 モノマー種別検査実績】(/mono_syu_inspection)
┌────────────────────────────────────────────────────────────────┐
│ 機能概要 : モノマー種別の検査結果管理                           │
│ 画面目的 : 品質検査の体系的管理                                 │
│ 管理項目 : ・検査項目別結果                                     │
│          : ・合格率管理                                         │
└────────────────────────────────────────────────────────────────┘

【4.9 膜カット不良率分析】(/fmc_defect_analysis)
┌────────────────────────────────────────────────────────────────┐
│ 機能概要 : 膜カット工程の不良率分析                             │
│ 画面目的 : 膜カット工程の品質改善                               │
│ 対象データ: ・カット不良、洗浄不良                              │
│          : ・各種不良項目別数量                                 │
│ 分析内容 : ・工程能力分析                                       │
│          : ・不良要因分析                                       │
└────────────────────────────────────────────────────────────────┘

【4.10 膜加工データ】(/fmp_defect_analysis)
┌────────────────────────────────────────────────────────────────┐
│ 機能概要 : 膜加工工程のデータ分析                               │
│ 画面目的 : 膜加工品質の向上                                     │
│ 対象データ: ・膜加工関連データ各種                              │
│          : ・グレード別実績                                     │
│ 特徴     : ・工程特有の項目分析                                 │
└────────────────────────────────────────────────────────────────┘

【4.11 スピンコート不良率分析】(/spc_defect_analysis)
┌────────────────────────────────────────────────────────────────┐
│ 機能概要 : スピンコート工程の不良率分析                         │
│ 画面目的 : コーティング品質の管理                               │
│ 分析項目 : ・硬化前後の不良分析                                 │
│          : ・機械別分析                                         │
│ 表示     : ・工程能力指数                                       │
│          : ・管理図表示                                         │
└────────────────────────────────────────────────────────────────┘

【4.12 ハードコート不良率分析】(/hdc_defect_analysis)
┌────────────────────────────────────────────────────────────────┐
│ 機能概要 : ハードコート工程の不良率分析                         │
│ 画面目的 : ハードコート品質の管理                               │
│ 分析項目 : ・透過・投影不良分析                                 │
│          : ・種類別品質分析                                     │
└────────────────────────────────────────────────────────────────┘

【4.13 スピンコート種類別分析】(/spc_type_analysis)
┌────────────────────────────────────────────────────────────────┐
│ 機能概要 : スピンコート種類別の詳細分析                         │
│ 画面目的 : 製品種別の品質特性把握                               │
│ 分析内容 : ・種類別不良率推移                                   │
│          : ・工程パラメータ分析                                 │
└────────────────────────────────────────────────────────────────┘

【4.14 ハードコート種類別分析】(/hdc_type_analysis)
┌────────────────────────────────────────────────────────────────┐
│ 機能概要 : ハードコート種類別の詳細分析                         │
│ 画面目的 : 製品種別の品質特性把握                               │
│ 分析内容 : ・種類別品質推移                                     │
│          : ・回数別分析                                         │
└────────────────────────────────────────────────────────────────┘

【4.15 膜カット不良詳細分析】(/fmc_defect_detail_analysis)
┌────────────────────────────────────────────────────────────────┐
│ 機能概要 : 膜カット工程の不良項目別詳細分析                     │
│ 画面目的 : 膜カット不良の詳細な要因分析                         │
│ 検索条件 : ・カット日（開始～終了）                             │
│          : ・モノマー種、アイテム、色                           │
│          : ・膜カーブ、その他詳細条件                           │
│ 表示形式 : ・日付別不良率推移                                   │
│          : ・不良項目別詳細表                                   │
│          : ・不良項目別グラフ表示                               │
│ 分析内容 : ・カット工程不良（ブツ、シワ、ウエーブ等）           │
│          : ・洗浄工程不良（シワ、キズ、イブツ等）               │
│ API      : /api/fmc_defect_detail_data                         │
│ 特記事項 : ・色目データ除外                                     │
│          : ・投入数/良品数ベースの不良率計算                    │
└────────────────────────────────────────────────────────────────┘

【4.16 膜カット不良データ（月別）】(/fmc_defect_monthly_analysis)
┌────────────────────────────────────────────────────────────────┐
│ 機能概要 : 膜カット工程の不良データ月別集計・分析               │
│ 画面目的 : 膜カット不良の月次トレンド分析・品質改善指針作成     │
│ データ元 : FMC_DATテーブル（膜カットデータ）                    │
│ 集計基準 : カット日（FMC_CUT_DATE）による月別集計               │
│ 検索条件 : ・開始日、終了日                                     │
│          : ・モノマー、アイテム、色、膜カーブ                   │
│ 分析対象 : ・カット工程不良（投入数基準）                       │
│          : ・洗浄工程不良（良品数基準）                         │
│ 表示形式 : ・月別カット工程不良項目推移グラフ（積み上げ棒）     │
│          : ・月別洗浄工程不良項目推移グラフ（積み上げ棒）       │
│          : ・期間合計不良率グラフ（降順）                       │
│          : ・月別カット工程不良詳細データテーブル               │
│          : ・月別洗浄工程不良詳細データテーブル                 │
│          : ・期間合計データテーブル                             │
│ 不良項目 : ＜カット工程7項目＞                                  │
│          : カットブツ、カットシワ、カットウエーブ、              │
│          : カットミス、カットサケ、カットキズ、カットその他      │
│          : ＜洗浄工程7項目＞                                    │
│          : 洗浄シワ、洗浄キズ、洗浄イブツ、洗浄アセトン、        │
│          : 洗浄ミス、洗浄カットミス、洗浄その他                 │
│ 計算仕様 : ・カット工程不良率 = (不良数 ÷ 投入数) × 100        │
│          : ・洗浄工程不良率 = (不良数 ÷ 良品数) × 100          │
│ 特徴     : ・便利ボタン（今年・昨年・今月・前月）               │
│          : ・Chart.js + ChartDataLabelsによるグラフ表示        │
│          : ・期間合計による不良項目比較分析                     │
│ 除外データ: ・色目データ（FMC_MONOMER=8, FMC_CUT_MENU=62）      │
│ API      : /api/fmc_defect_monthly_data                        │
│ 使用技術 : ・SQLAlchemyのdate_format関数による月別集計         │
│          : ・JavaScriptによる動的テーブル・グラフ更新          │
└────────────────────────────────────────────────────────────────┘

【4.17 膜カット モノマー別集計】(/fmc_monomer_summary)
┌────────────────────────────────────────────────────────────────┐
│ 機能概要 : 膜カット工程の投入数・良品数・合格数をモノマー別集計 │
│ 画面目的 : モノマー別の生産性・歩留率の確認と比較分析           │
│ 検索条件 : ・カット日（開始日、終了日）※必須                   │
│ 表示項目 : [全体集計]                                           │
│          : ・総投入数、総良品数、総合格数                       │
│          : ・良品率（良品数/投入数）                             │
│          : ・合格率（合格数/良品数）                             │
│          : ・総合歩留率（合格数/投入数）                         │
│          : [モノマー別集計表]                                   │
│          : ・モノマー名                                         │
│          : ・投入数、良品数、合格数                             │
│          : ・良品率、合格率、総合歩留率                         │
│          : ・データ件数                                         │
│ 表示形式 : ・上部：全体集計（6項目のサマリー）                  │
│          : ・下部：モノマー別詳細表                             │
│ 計算仕様 : ・良品率 = (良品数 ÷ 投入数) × 100                  │
│          : ・合格率 = (合格数 ÷ 良品数) × 100                  │
│          : ・総合歩留率 = (合格数 ÷ 投入数) × 100              │
│ 操作機能 : ・「今月」ボタン（今月の期間を自動設定）             │
│          : ・ページロード時に今月が初期値として設定             │
│ 除外データ: ・色目データ（FMC_MONOMER=8, FMC_CUT_MENU=62）      │
│ API      : /api/fmc_monomer_summary                            │
│ 使用技術 : ・SQLAlchemyのfunc.sumによる集計処理                │
│          : ・GROUP BYによるモノマー別グルーピング               │
│          : ・KBN_MSTテーブルからモノマー名称取得                │
│ 特記事項 : ・歩留率は小数点以下2桁まで表示                      │
│          : ・数値は3桁区切りカンマ表示                          │
│          : ・検索条件は必須（空の場合は全件対象）               │
│ 関連テーブル: FMC_DAT（膜カットデータ）                         │
│            : KBN_MST（区分マスタ、モノマー名称）                │
└────────────────────────────────────────────────────────────────┘

■ 5. バーコード（BCD）画面
────────────────────────────────────────────────────────────────

【5.1 バーコード読込】(/barcode_scan)
┌────────────────────────────────────────────────────────────────┐
│ 機能概要 : バーコード読み取りによる検証・照会                   │
│ 画面目的 : 現場での迅速なデータ照会・検証                       │
│ 入力方法 : ・バーコード選択（プルダウン）                       │
│          : ・バーコードスキャナー入力                           │
│          : ・手動入力                                           │
│          : ・検証データ入力                                     │
│ 処理内容 : ・バーコード形式検証                                 │
│          : ・CSVデータ取込による検証                                 │
│          : ・取込データに基づく表示                                 │
│ 表示結果 : ・有効/無効の判定                                    │
│          : ・色分け表示（有効:青、無効:赤）                     │
│ 対応形式 : ・ロット番号バーコード                               │
└────────────────────────────────────────────────────────────────┘

■ 6. スライド（SLD）・設定画面
────────────────────────────────────────────────────────────────

【6.1 設定】(/settings)
┌────────────────────────────────────────────────────────────────┐
│ 機能概要 : システム全体の設定管理                               │
│ 画面目的 : システム動作パラメータの調整                         │
│ 設定項目 : ・描画間隔設定                                       │
│          : ・抽出期間設定                                       │
│          : ・お知らせ情報設定（ヘッダ1～3、内容1～3）           │
│ 機能     : ・設定値保存                                         │
│          : ・初期値復元                                         │
│          : ・設定反映確認                                       │
│ 使用フォーム: SetMstForm（WTForms使用）                         │
└────────────────────────────────────────────────────────────────┘

【6.2 モノマー種別スライド】(/mono_syu_slide)
┌────────────────────────────────────────────────────────────────┐
│ 機能概要 : モノマー種別情報の自動スライド表示                   │
│ 画面目的 : 現場での情報共有・見える化                           │
│ 表示方式 : ・自動更新スライドショー                             │
│          : ・リアルタイムデータ表示                             │
│ 用途     : ・現場モニター表示                                   │
│          : ・会議資料投影                                       │
└────────────────────────────────────────────────────────────────┘

■ 7. 石田第一（膜加工関連）画面
────────────────────────────────────────────────────────────────

【7.1 膜加工データCSV取込】(/upload6)
┌────────────────────────────────────────────────────────────────┐
│ 機能概要 : 膜加工データのCSVファイル取込                        │
│ 画面目的 : 膜加工作業実績の登録                                 │
│ 処理内容 : ・FmpDat.import_from_csv()によるインポート           │
│          : ・膜加工実績データの登録                             │
└────────────────────────────────────────────────────────────────┘

【7.2 膜カット不良詳細分析】(/fmc_defect_detail_analysis)
┌────────────────────────────────────────────────────────────────┐
│ 機能概要 : 膜カット工程の不良詳細分析・時系列推移表示           │
│ 画面目的 : 膜カット工程の品質管理・改善指針作成                 │
│ データ元 : FMC_DATテーブル（膜カットデータ）                    │
│ 表示内容 : ・カット工程不良（投入数基準）                       │
│          : ・洗浄工程不良（良品数基準）                         │
│          : ・日付別不良率推移                                   │
│          : ・期間合計不良率ランキング                           │
│ フィルター: ・カット日（開始〜終了）                            │
│          : ・モノマー、アイテム、色、膜カーブ                   │
│ 不良項目 : ＜カット工程＞                                       │
│          : カットブツ、カットシワ、カットウエーブ、              │
│          : カットミス、カットサケ、カットキズ、カットその他      │
│          : ＜洗浄工程＞                                         │
│          : 洗浄シワ、洗浄キズ、洗浄イブツ、洗浄アセトン、        │
│          : 洗浄ミス、洗浄カットミス、洗浄その他                 │
│ グラフ表示: ・カット工程推移（積み上げ棒グラフ）                │
│          : ・洗浄工程推移（積み上げ棒グラフ）                   │
│          : ・期間合計（棒グラフ）                               │
│ テーブル : ・カット工程詳細データ（日付×不良項目）              │
│          : ・洗浄工程詳細データ（日付×不良項目）                │
│          : ・期間合計（工程種別×不良項目×数量・率）             │
│ API      : /api/fmc_defect_detail_data                          │
└────────────────────────────────────────────────────────────────┘

【7.3 膜加工データ】(/fmp_defect_analysis)
┌────────────────────────────────────────────────────────────────┐
│ 機能概要 : 膜加工工程のデータ分析                               │
│ 画面目的 : 膜加工品質の向上                                     │
│ 対象データ: ・膜加工関連データ各種                              │
│          : ・グレード別実績                                     │
│ 特徴     : ・工程特有の項目分析                                 │
└────────────────────────────────────────────────────────────────┘

【7.4 膜加工不良詳細分析】(/fmp_defect_detail_analysis)
┌────────────────────────────────────────────────────────────────┐
│ 機能概要 : 膜加工工程の不良詳細分析・時系列推移表示             │
│ 画面目的 : 膜加工工程の品質管理・改善指針作成                   │
│ データ元 : FMP_DATテーブル（膜加工データ）                      │
│ 表示内容 : ・一次検査不良（加工枚数基準）                       │
│          : ・二次検査不良（一次良品数基準）                     │
│          : ・日付別不良率推移                                   │
│          : ・期間合計不良率ランキング                           │
│ フィルター: ・検査日（開始〜終了）                              │
│          : ・色、膜カーブ、PVAロットNo                          │
│ 不良項目 : ＜一次検査＞                                         │
│          : シワA、シワB、裂け、ブツ、繊維、キズ、穴、その他      │
│          : ＜二次検査＞                                         │
│          : 色抜け、色ムラ、染スジ、汚れ、その他                 │
│ グラフ表示: ・一次検査推移（積み上げ棒グラフ）                  │
│          : ・二次検査推移（積み上げ棒グラフ）                   │
│          : ・期間合計（棒グラフ）                               │
│ テーブル : ・一次検査詳細データ（日付×不良項目）                │
│          : ・二次検査詳細データ（日付×不良項目）                │
│          : ・期間合計（検査種別×不良項目×数量・率）             │
│ API      : /api/fmp_defect_detail_data                          │
└────────────────────────────────────────────────────────────────┘

【7.5 カラー不良データ入力用】(/color_trans_defects)
┌────────────────────────────────────────────────────────────────┐
│ 機能概要 : カラー・透過不良データの表示・管理                   │
│ 画面目的 : 色品質・透明度の管理                                 │
│ 分析項目 : ・色関連不良                                         │
│          : ・透過率不良                                         │
│ 特徴     : ・色彩管理専用分析                                   │
└────────────────────────────────────────────────────────────────┘

【7.6 不良分析（スライド）】(/color_trans_defects_slide)
┌────────────────────────────────────────────────────────────────┐
│ 機能概要 : カラー不良の自動スライド表示                         │
│ 画面目的 : 色品質状況の見える化                                 │
│ 特徴     : ・色品質専用ダッシュボード                           │
└────────────────────────────────────────────────────────────────┘

■ 8. 石田第二（コート関連）画面
────────────────────────────────────────────────────────────────

【8.1 スピンコートデータCSV取込】(/import_spc)
┌────────────────────────────────────────────────────────────────┐
│ 機能概要 : スピンコート工程データのCSVファイル取込              │
│ 画面目的 : スピンコート作業実績の登録                           │
│ 処理内容 : ・SpcDat.import_from_csv()によるインポート           │
│          : ・SPC_DATテーブルへの登録                            │
│ 対象データ: ・コート日、種類、機番、処理枚数、不良項目別数量    │
└────────────────────────────────────────────────────────────────┘

【8.2 ハードコートデータCSV取込】(/import_hdc)
┌────────────────────────────────────────────────────────────────┐
│ 機能概要 : ハードコート工程データのCSVファイル取込              │
│ 画面目的 : ハードコート作業実績の登録                           │
│ 処理内容 : ・HdcDat.import_from_csv()によるインポート           │
│          : ・HDC_DATテーブルへの登録                            │
│ 対象データ: ・コート日、種類、色、処理数量、不良項目別数量      │
└────────────────────────────────────────────────────────────────┘

【8.3 スピンコート種類別分析】(/spc_type_analysis)
┌────────────────────────────────────────────────────────────────┐
│ 機能概要 : スピンコート工程の種類別詳細分析                     │
│ 画面目的 : 種類別の品質特性把握と改善                           │
│ 検索条件 : ・コート日（開始～終了）                             │
│          : ・種類、色                                           │
│ 表示内容 : ・種類別不良率推移                                   │
│          : ・種類別不良項目分布                                 │
│          : ・種類別工程パラメータ分析                           │
│ グラフ表示: ・種類別不良率推移（折れ線グラフ）                  │
│          : ・種類別不良項目分布（積み上げ棒グラフ）             │
│ API      : /api/spc_type_analysis_data                          │
└────────────────────────────────────────────────────────────────┘

【8.4 ハードコート種類別分析】(/hdc_type_analysis)
┌────────────────────────────────────────────────────────────────┐
│ 機能概要 : ハードコート工程の種類別詳細分析                     │
│ 画面目的 : 種類別の品質特性把握と改善                           │
│ 検索条件 : ・コート日（開始～終了）                             │
│          : ・種類、色                                           │
│ 表示内容 : ・種類別不良率推移                                   │
│          : ・種類別不良項目分布                                 │
│          : ・コート回数別分析                                   │
│ グラフ表示: ・種類別不良率推移（折れ線グラフ）                  │
│          : ・種類別不良項目分布（積み上げ棒グラフ）             │
│          : ・コート回数別不良率（棒グラフ）                     │
│ API      : /api/hdc_type_analysis_data                          │
└────────────────────────────────────────────────────────────────┘

【8.5 ハードコートスピンスライド】(/hdc_spn_slide)
┌────────────────────────────────────────────────────────────────┐
│ 機能概要 : ハードコートとスピンコートの品質状況自動表示         │
│ 画面目的 : 工程間の品質状況の見える化と共有                     │
│ 表示内容 : ・直近の不良率推移                                   │
│          : ・主要不良項目の分布                                 │
│          : ・工程間の相関分析                                   │
│ 更新間隔 : ・30秒ごとに自動更新                                │
│ 特徴     : ・現場モニター表示に最適化                           │
│          : ・重要指標の強調表示                                 │
│ API      : /api/hdc_spc_slide                                   │
└────────────────────────────────────────────────────────────────┘

【8.3～8.7 各分析画面】
┌────────────────────────────────────────────────────────────────┐
│ 各分析画面は前述の「4. 分析画面」セクションと同様の機能         │
│ スピンコート・ハードコート専用の分析機能を提供                 │
└────────────────────────────────────────────────────────────────┘

■ 9. データ編集・管理画面
────────────────────────────────────────────────────────────────

【9.1 膜カットデータ新規作成】(/fmc_dat/create)
┌────────────────────────────────────────────────────────────────┐
│ 機能概要 : 膜カットデータの新規作成                             │
│ 画面目的 : 手動での膜カットデータ登録                           │
│ 入力項目 : ・カット日（必須）                                   │
│          : ・R1注入日、モノマー（必須）                         │
│          : ・アニール番号（必須）、カット機番号（必須）         │
│          : ・アイテム（必須）、カットメニュー（必須）           │
│          : ・膜加工日（必須）、CR膜、熱処理日                   │
│          : ・膜カーブ（必須）、色（必須）                       │
│          : ・投入数（必須）、各種不良数量、良品数、合格数       │
│ 入力支援 : ・WTForms使用（FmcDatForm）                          │
│          : ・選択肢の動的生成                                   │
│          : ・入力検証機能                                       │
└────────────────────────────────────────────────────────────────┘

【9.2 膜カットデータ編集】(/fmc_edit/<int:id>)
┌────────────────────────────────────────────────────────────────┐
│ 機能概要 : 既存膜カットデータの編集                             │
│ 画面目的 : データ修正・更新                                     │
│ 機能     : ・全項目編集可能                                     │
│          : ・保存前検証                                         │
│          : ・FmcDatForm使用                                     │
└────────────────────────────────────────────────────────────────┘

【9.3 カラー不良データ入力】(/color_trans_defects/input)
┌────────────────────────────────────────────────────────────────┐
│ 機能概要 : カラー不良データの手動入力                           │
│ 画面目的 : 色品質不良の詳細記録                                 │
│ 入力項目 : ・不良種別、数量                                     │
│          : ・発生原因、対策内容                                 │
└────────────────────────────────────────────────────────────────┘

【9.4 膜カット合格数クロス集計】(/fmc_cross_table)
┌────────────────────────────────────────────────────────────────┐
│ 機能概要 : 膜カット工程の合格数をクロス集計表で表示             │
│ 画面目的 : 色別・膜カーブ別の合格数分析                         │
│ データ元 : FMC_DATテーブル（膜カットデータ）                    │
│ 表示形式 : ・色（行）× 膜カーブ（列）のクロス集計表             │
│          : ・合格数（FMC_PASS_QTY）の集計値表示                 │
│ 検索条件 : ・カット日（期間指定：開始日〜終了日）               │
│          : ・モノマー（プルダウン選択、全選択可能）             │
│ 初期設定 : ・過去1ヶ月のデータをデフォルト表示                 │
│          : ・モノマーは「すべて」を選択                         │
│ 表示内容 : ・動的生成クロス集計表                               │
│          : ・行合計（色別合計）                                 │
│          : ・列合計（膜カーブ別合計）                           │
│          : ・総合計（全体合計）                                 │
│          : ・区分マスタ名称の自動表示                           │
│ UI機能   : ・検索条件入力フォーム                               │
│          : ・クリアボタン（条件リセット）                       │
│          : ・ローディング表示                                   │
│          : ・エラーメッセージ表示                               │
│          : ・データなしメッセージ表示                           │
│ テーブル機能: ・固定ヘッダー（縦横スクロール対応）              │
│          : ・数値の3桁区切り表示                                │
│          : ・データのある項目の背景色変更                       │
│          : ・合計行・列の強調表示                               │
│          : ・レスポンシブデザイン（モバイル対応）               │
│ データ処理: ・色目データの除外（FMC_MONOMER != 8）              │
│          : ・色目カットメニューの除外（FMC_CUT_MENU != 62）     │
│          : ・SQLレベルでの集計処理（パフォーマンス最適化）      │
│ API      : /api/fmc_cross_table                                 │
│ レスポンス: ・JSON形式データ提供                                │
│          : ・クロス集計データ（cross_table）                   │
│          : ・色一覧（colors）、膜カーブ一覧（film_curves）     │
│          : ・色別合計（color_totals）、膜カーブ別合計          │
│          : ・総合計（grand_total）                             │
│          : ・マスタ名称辞書（color_dict, curve_dict）          │
│ エラー対応: ・通信エラーハンドリング                            │
│          : ・データ形式検証                                     │
│          : ・適切なエラーメッセージ表示                         │
│ パフォーマンス: ・Ajax非同期通信                                │
│          : ・必要時のみデータ取得                               │
│          : ・効率的なDOM操作                                    │
└────────────────────────────────────────────────────────────────┘

【9.1 特記事項一覧】(/note_dat_list)
┌────────────────────────────────────────────────────────────────┐
│ 機能概要 : 特記事項データの一覧表示と検索                         │
│ 画面目的 : 登録された特記事項の管理と参照                         │
│ 検索条件 : ・ロットNo.                                           │
│          : ・入力日（開始～終了）                                │
│          : ・入力者                                             │
│          : ・項目名                                             │
│ 表示項目 : ・ID                                                 │
│          : ・ロットNo.                                          │
│          : ・入力日                                             │
│          : ・入力者                                             │
│          : ・項目名                                             │
│          : ・内容                                               │
│ 操作機能 : ・新規登録ボタン                                     │
│          : ・詳細表示ボタン                                     │
│          : ・編集ボタン                                         │
│          : ・削除ボタン                                         │
└────────────────────────────────────────────────────────────────┘

【9.2 特記事項詳細】(/note_dat_detail/<note_id>)
┌────────────────────────────────────────────────────────────────┐
│ 機能概要 : 特記事項データの詳細表示                               │
│ 画面目的 : 特記事項の詳細情報と画像の確認                         │
│ 表示項目 : ・ID                                                 │
│          : ・ロットNo.                                          │
│          : ・入力日                                             │
│          : ・入力者                                             │
│          : ・項目名                                             │
│          : ・内容                                               │
│          : ・画像（添付されている場合）                          │
│ 画像機能 : ・クリックで拡大表示                                 │
│          : ・モーダルウィンドウでの表示                         │
│          : ・ズーム機能（拡大・縮小・リセット）                 │
│          : ・ドラッグ＆ドロップでの移動                         │
│ 操作機能 : ・編集ボタン                                         │
│          : ・一覧へ戻るボタン                                   │
└────────────────────────────────────────────────────────────────┘

【9.3 特記事項新規登録】(/note_dat_input)
┌────────────────────────────────────────────────────────────────┐
│ 機能概要 : 特記事項データの新規登録                               │
│ 画面目的 : 新規特記事項の登録と画像添付                           │
│ 入力項目 : ・ロットNo.                                          │
│          : ・入力日（デフォルト：当日）                         │
│          : ・入力者（ドロップダウン選択）                       │
│          : ・項目名（最大40文字）                               │
│          : ・内容（最大200文字）                                │
│ カメラ機能: ・画質選択（低・中・高）                            │
│          : ・カメラ起動/停止                                    │
│          : ・写真撮影                                           │
│          : ・ズーム機能（1.0x～3.0x）                          │
│          : ・画像プレビュー                                     │
│          : ・画像削除                                           │
│ 画像制限 : ・最大サイズ：5MB                                    │
│          : ・高画質：1920x1080                                  │
│          : ・中画質：1280x720                                   │
│          : ・低画質：640x480                                    │
│ 操作機能 : ・登録ボタン                                         │
│          : ・戻るボタン                                         │
└────────────────────────────────────────────────────────────────┘

【9.4 特記事項編集】(/note_dat_edit/<note_id>)
┌────────────────────────────────────────────────────────────────┐
│ 機能概要 : 特記事項データの編集                                   │
│ 画面目的 : 既存特記事項の修正と画像更新                           │
│ 編集項目 : ・ロットNo.                                          │
│          : ・入力日                                             │
│          : ・入力者（ドロップダウン選択）                       │
│          : ・項目名（最大40文字）                               │
│          : ・内容（最大200文字）                                │
│ 画像機能 : ・現在の画像表示                                     │
│          : ・画像削除機能                                       │
│          : ・新規画像撮影（カメラ機能）                         │
│ カメラ機能: ・画質選択（低・中・高）                            │
│          : ・カメラ起動/停止                                    │
│          : ・写真撮影                                           │
│          : ・ズーム機能（1.0x～3.0x）                          │
│          : ・画像プレビュー                                     │
│ 画像制限 : ・最大サイズ：5MB                                    │
│          : ・高画質：1920x1080                                  │
│          : ・中画質：1280x720                                   │
│          : ・低画質：640x480                                    │
│ 操作機能 : ・更新ボタン                                         │
│          : ・戻るボタン                                         │
└────────────────────────────────────────────────────────────────┘

====================================================================
                              総画面数: 54画面
作成日: 2025年6月（最終更新: 2025年6月）
==================================================================== 